PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE IF NOT EXISTS "migrations" ("id" integer not null primary key autoincrement, "migration" varchar not null, "batch" integer not null);
INSERT INTO "migrations" VALUES(37,'2017_02_04_142210_create_users_table',1);
INSERT INTO "migrations" VALUES(38,'2017_02_05_065438_create_modules_table',1);
INSERT INTO "migrations" VALUES(39,'2017_02_05_065503_create_events_table',1);
INSERT INTO "migrations" VALUES(40,'2017_02_05_065524_create_timetables_table',1);
INSERT INTO "migrations" VALUES(41,'2017_02_05_065930_create_user_modules_table',1);
INSERT INTO "migrations" VALUES(42,'2017_02_05_065951_create_user_timetables_table',1);
INSERT INTO "migrations" VALUES(43,'2017_02_05_071317_create_timetable_events_table',1);
CREATE TABLE IF NOT EXISTS "users" ("id" integer not null primary key autoincrement, "email" varchar not null, "password" varchar not null, "created_at" datetime null, "updated_at" datetime null);
INSERT INTO "users" VALUES(1,'blick.meaghan@stanton.net','$2y$10$/hBVjhwqHzFI3vfEXUcCYuouWAlY4h3hUoQJxpxCz54qi8sYBU95O','2017-02-06 10:37:00','2017-02-06 10:37:00');
INSERT INTO "users" VALUES(2,'jjacobi@bruen.net','$2y$10$JridmcMY2QlOOVf/nxkgO.xYHpcDH6E4.FmrsV5y/iDEV0ukTtiXO','2017-02-06 10:37:00','2017-02-06 10:37:00');
INSERT INTO "users" VALUES(3,'qkohler@yahoo.com','$2y$10$RbfTzM00JCJItN35onYY2u3h01xZkhxEr0E5ya3rCjDewiSlmS5kq','2017-02-06 10:37:00','2017-02-06 10:37:00');
INSERT INTO "users" VALUES(4,'sweissnat@daugherty.biz','$2y$10$XguvOKOxC2s.6eDpvgAPc.LVBZSao9vzr.VirPFFTRUfbrvTdO.HS','2017-02-06 10:37:00','2017-02-06 10:37:00');
INSERT INTO "users" VALUES(5,'marjory.runolfsdottir@yahoo.com','$2y$10$1WU3NYnbei9GHxb.b9ZmwOivhiZpReZSm5DVdNCXV0e0qdgnP8r/W','2017-02-06 10:37:00','2017-02-06 10:37:00');
INSERT INTO "users" VALUES(6,'oruecker@mayert.com','$2y$10$4PKdaYTReS3vrm6yzyiC1.P2jfp8QPs8oTxVsXcY59nySFtpEvbi.','2017-02-06 10:37:00','2017-02-06 10:37:00');
INSERT INTO "users" VALUES(7,'ahegmann@barrows.com','$2y$10$bRluLOL9tcTVEIGgzJEOt.OBFNchZTh2o4kXP93DjU6UXons.K2R.','2017-02-06 10:37:00','2017-02-06 10:37:00');
INSERT INTO "users" VALUES(8,'padberg.reid@yahoo.com','$2y$10$pY0ZXCJBYkBTf21M58SONeK8.TjYnKW9rqdiOBvALct.uTZU3tvmy','2017-02-06 10:37:00','2017-02-06 10:37:00');
INSERT INTO "users" VALUES(9,'lturner@hotmail.com','$2y$10$PWy2qExgNVdDwMkDDznWMuR3DPE3QaVL0kqsmM.s.vdAdyYYBIn0.','2017-02-06 10:37:00','2017-02-06 10:37:00');
INSERT INTO "users" VALUES(10,'hamill.lester@hotmail.com','$2y$10$dft6lHXGhwN.3C9jl.bcYeDLCWgBY4LeBbi0QA11JL7vXmGZ3/bem','2017-02-06 10:37:00','2017-02-06 10:37:00');
CREATE TABLE IF NOT EXISTS "modules" ("id" integer not null primary key autoincrement, "code" varchar not null, "name" varchar not null, "description" text not null, "type" integer not null, "year" integer not null);
CREATE TABLE IF NOT EXISTS "events" ("id" integer not null primary key autoincrement, "created_at" datetime null, "updated_at" datetime null, "name" varchar not null, "day" integer not null, "start" time not null, "end" time not null, "date" date null, "language" integer not null, "group" integer not null, "creator_id" integer null, "module_id" integer not null, foreign key("creator_id") references "users"("id"), foreign key("module_id") references "modules"("id") on delete cascade);
CREATE TABLE IF NOT EXISTS "timetables" ("id" integer not null primary key autoincrement, "created_at" datetime null, "updated_at" datetime null, "hash" varchar not null, "creator_id" integer not null, foreign key("creator_id") references "users"("id"));
CREATE TABLE IF NOT EXISTS "user_modules" ("id" integer not null primary key autoincrement, "created_at" datetime null, "updated_at" datetime null, "user_id" integer not null, "module_id" integer not null, foreign key("user_id") references "users"("id") on delete cascade, foreign key("module_id") references "modules"("id") on delete cascade);
CREATE TABLE IF NOT EXISTS "user_timetables" ("id" integer not null primary key autoincrement, "created_at" datetime null, "updated_at" datetime null, "user_id" integer not null, "timetable_id" integer not null, foreign key("user_id") references "users"("id") on delete cascade, foreign key("timetable_id") references "tables"("id") on delete cascade);
CREATE TABLE IF NOT EXISTS "timetable_events" ("id" integer not null primary key autoincrement, "created_at" datetime null, "updated_at" datetime null, "event_id" integer not null, "timetable_id" integer not null, foreign key("timetable_id") references "timetables"("id") on delete cascade, foreign key("event_id") references "events"("id") on delete cascade);
DELETE FROM sqlite_sequence;
INSERT INTO "sqlite_sequence" VALUES('migrations',43);
INSERT INTO "sqlite_sequence" VALUES('users',10);
CREATE UNIQUE INDEX "users_email_unique" on "users" ("email");
COMMIT;
